{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 12, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Vostro%203510/Desktop/ITI_Tasks/task/test/pages/register.js"],"sourcesContent":["\r\n// pages/register.js\r\nimport { useForm } from 'react-hook-form';\r\nimport axios from 'axios';\r\nimport styled from 'styled-components';\r\nimport { useState } from 'react';\r\nimport { error } from 'console';\r\nconst FormContainer = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    padding: 20px;\r\n    max-width: 400px;\r\n    margin: auto;\r\n    background-color: #f9f9f9;\r\n    border-radius: 8px;\r\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\r\n`;\r\nconst Input = styled.input`\r\n    width: 100%;\r\n    padding: 10px;\r\n    margin: 10px 0;\r\n    border: 1px solid #ccc;\r\n    border-radius: 4px;\r\n`;\r\nconst Button = styled.button`\r\n    width: 100%;\r\n    padding: 10px;\r\n    background-color: #0070f3;\r\n    color: white;\r\n    border: none;\r\n    border-radius: 4px;\r\n    cursor: pointer;\r\n    &:hover {\r\n        background-color: #005bb5;\r\n    }\r\n`;\r\nconst Register = () => {\r\n    const { register, handleSubmit } = useForm();\r\n    const [errors, setErrors] = useState(null);\r\n    const onSubmit = async (data) => {\r\n        try {\r\n            const response = await axios.post(`${process.env.NEXT_PUBLIC_BASE_URL}/auth/register`, {\r\n                name: data.fullName,\r\n                email: data.email,\r\n                mobile: data.phoneNumber,\r\n                password: data.password,\r\n                password_confirmation: data.passwordConfirmation,\r\n                mobile_country_code: data.countryCode,\r\n            });\r\n            console.log(response.data);\r\n            \r\n            localStorage.setItem('userName', response.data.data.name);\r\n            // إعادة التوجيه إلى صفحة تسجيل الدخول\r\n            window.location.href = '/verify';\r\n        } catch (error) {\r\n            if (error.response && error.response.status === 422) {\r\n      setErrors(error.response.data.message); // This is key\r\n    }\r\n    else if (error.response && error.response.status === 400) {\r\n      setErrors(error.response.data.message); // This is key\r\n    } else {\r\n      setErrors(error.message);\r\n    }\r\n        }\r\n    };\r\n    return (\r\n        <FormContainer>\r\n            <h1>تسجيل مستخدم جديد</h1>\r\n             {errors && (\r\n            <div style = {{color: 'red', marginBottom: '10px', width: '100%'}}>\r\n            {Object.keys(errors).map((key) => \r\n            <p key = {key}>\r\n            {Array.isArray(errors[key])\r\n                ? errors[key][0]\r\n                : errors[key]\r\n            }\r\n            </p>\r\n            )}\r\n            </div>\r\n        )}\r\n            <form onSubmit={handleSubmit(onSubmit)}>\r\n                <Input {...register('fullName')} placeholder=\"الاسم الكامل\" required />\r\n                <Input {...register('email')} type=\"email\" placeholder=\"البريد الإلكتروني\" required />\r\n                <Input {...register('phoneNumber')} placeholder=\"رقم الهاتف\" required />\r\n                <Input {...register('password')} type=\"password\" placeholder=\"كلمة المرور\" required />\r\n                <Input {...register('passwordConfirmation')} type=\"password\" placeholder=\"تأكيد كلمة المرور\" required />\r\n                <Input {...register('countryCode')} placeholder=\"رمز الدولة\" required />\r\n                <Button type=\"submit\">تسجيل</Button>\r\n            </form>\r\n        </FormContainer>\r\n    );\r\n};\r\nexport default Register;"],"names":[],"mappings":";;;;;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;;;;;;;;;;;;AACA,MAAM,gBAAgB,uNAAM,CAAC,GAAG,CAAC;;;;;;;;;;;AAWjC,CAAC;AACD,MAAM,QAAQ,uNAAM,CAAC,KAAK,CAAC;;;;;;AAM3B,CAAC;AACD,MAAM,SAAS,uNAAM,CAAC,MAAM,CAAC;;;;;;;;;;;AAW7B,CAAC;AACD,MAAM,WAAW;IACb,MAAM,EAAE,QAAQ,EAAE,YAAY,EAAE,GAAG,IAAA,yPAAO;IAC1C,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,+GAAQ,EAAC;IACrC,MAAM,WAAW,OAAO;QACpB,IAAI;YACA,MAAM,WAAW,MAAM,yMAAK,CAAC,IAAI,CAAC,iFAAoC,cAAc,CAAC,EAAE;gBACnF,MAAM,KAAK,QAAQ;gBACnB,OAAO,KAAK,KAAK;gBACjB,QAAQ,KAAK,WAAW;gBACxB,UAAU,KAAK,QAAQ;gBACvB,uBAAuB,KAAK,oBAAoB;gBAChD,qBAAqB,KAAK,WAAW;YACzC;YACA,QAAQ,GAAG,CAAC,SAAS,IAAI;YAEzB,aAAa,OAAO,CAAC,YAAY,SAAS,IAAI,CAAC,IAAI,CAAC,IAAI;YACxD,sCAAsC;YACtC,OAAO,QAAQ,CAAC,IAAI,GAAG;QAC3B,EAAE,OAAO,OAAO;YACZ,IAAI,MAAM,QAAQ,IAAI,MAAM,QAAQ,CAAC,MAAM,KAAK,KAAK;gBAC3D,UAAU,MAAM,QAAQ,CAAC,IAAI,CAAC,OAAO,GAAG,cAAc;YACxD,OACK,IAAI,MAAM,QAAQ,IAAI,MAAM,QAAQ,CAAC,MAAM,KAAK,KAAK;gBACxD,UAAU,MAAM,QAAQ,CAAC,IAAI,CAAC,OAAO,GAAG,cAAc;YACxD,OAAO;gBACL,UAAU,MAAM,OAAO;YACzB;QACI;IACJ;IACA,qBACI,qKAAC;;0BACG,qKAAC;0BAAG;;;;;;YACF,wBACF,qKAAC;gBAAI,OAAS;oBAAC,OAAO;oBAAO,cAAc;oBAAQ,OAAO;gBAAM;0BAC/D,OAAO,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,oBAC1B,qKAAC;kCACA,MAAM,OAAO,CAAC,MAAM,CAAC,IAAI,IACpB,MAAM,CAAC,IAAI,CAAC,EAAE,GACd,MAAM,CAAC,IAAI;uBAHP;;;;;;;;;;0BASV,qKAAC;gBAAK,UAAU,aAAa;;kCACzB,qKAAC;wBAAO,GAAG,SAAS,WAAW;wBAAE,aAAY;wBAAe,QAAQ;;;;;;kCACpE,qKAAC;wBAAO,GAAG,SAAS,QAAQ;wBAAE,MAAK;wBAAQ,aAAY;wBAAoB,QAAQ;;;;;;kCACnF,qKAAC;wBAAO,GAAG,SAAS,cAAc;wBAAE,aAAY;wBAAa,QAAQ;;;;;;kCACrE,qKAAC;wBAAO,GAAG,SAAS,WAAW;wBAAE,MAAK;wBAAW,aAAY;wBAAc,QAAQ;;;;;;kCACnF,qKAAC;wBAAO,GAAG,SAAS,uBAAuB;wBAAE,MAAK;wBAAW,aAAY;wBAAoB,QAAQ;;;;;;kCACrG,qKAAC;wBAAO,GAAG,SAAS,cAAc;wBAAE,aAAY;wBAAa,QAAQ;;;;;;kCACrE,qKAAC;wBAAO,MAAK;kCAAS;;;;;;;;;;;;;;;;;;AAItC;uCACe"}}]
}