{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Vostro%203510/Desktop/ITI_Tasks/task/test/pages/login.js"],"sourcesContent":["// pages/login.js\r\nimport { useForm } from 'react-hook-form';\r\nimport axios from 'axios';\r\nimport styled from 'styled-components';\r\nconst FormContainer = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    padding: 20px;\r\n    max-width: 400px;\r\n    margin: auto;\r\n    background-color: #f9f9f9;\r\n    border-radius: 8px;\r\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\r\n`;\r\nconst Input = styled.input`\r\n    width: 100%;\r\n    padding: 10px;\r\n    margin: 10px 0;\r\n    border: 1px solid #ccc;\r\n    border-radius: 4px;\r\n`;\r\nconst Button = styled.button`\r\n    width: 100%;\r\n    padding: 10px;\r\n    background-color: #0070f3;\r\n    color: white;\r\n    border: none;\r\n    border-radius: 4px;\r\n    cursor: pointer;\r\n    &:hover {\r\n        background-color: #005bb5;\r\n    }\r\n`;\r\nconst Login = () => {\r\n    const { register, handleSubmit } = useForm();\r\n    const onSubmit = async (data) => {\r\n        try {\r\n            const response = await axios.post(`${process.env.BASE_URL}/auth/login`, {\r\n                email: data.email,\r\n                password: data.password,\r\n            });\r\n            localStorage.setItem('token', response.data.token);\r\n            localStorage.setItem('userName', response.data.name);\r\n            // إعادة التوجيه إلى لوحة التحكم\r\n            window.location.href = '/dashboard';\r\n        } catch (error) {\r\n             if (error.response && error.response.status === 422) {\r\n      console.error('Validation errors:', error.response.data); // This is key\r\n    }\r\n    else if (error.response && error.response.status === 404) {\r\n      console.error('errors:', error.response.data); // This is key\r\n    } else {\r\n      console.error('Other error:', error.message);\r\n    }\r\n        }\r\n    };\r\n    return (\r\n        <FormContainer>\r\n            <h1>تسجيل الدخول</h1>\r\n            <form onSubmit={handleSubmit(onSubmit)}>\r\n                <Input {...register('email')} type=\"email\" placeholder=\"البريد الإلكتروني\" required />\r\n                <Input {...register('password')} type=\"password\" placeholder=\"كلمة المرور\" required />\r\n                <Button type=\"submit\">تسجيل الدخول</Button>\r\n            </form>\r\n        </FormContainer>\r\n    );\r\n};\r\nexport default Login;\r\n"],"names":[],"mappings":";;;;;AAAA,iBAAiB;AACjB;AACA;AACA;;;;;;;;;;AACA,MAAM,gBAAgB,uNAAM,CAAC,GAAG,CAAC;;;;;;;;;;;AAWjC,CAAC;AACD,MAAM,QAAQ,uNAAM,CAAC,KAAK,CAAC;;;;;;AAM3B,CAAC;AACD,MAAM,SAAS,uNAAM,CAAC,MAAM,CAAC;;;;;;;;;;;AAW7B,CAAC;AACD,MAAM,QAAQ;IACV,MAAM,EAAE,QAAQ,EAAE,YAAY,EAAE,GAAG,IAAA,yPAAO;IAC1C,MAAM,WAAW,OAAO;QACpB,IAAI;YACA,MAAM,WAAW,MAAM,yMAAK,CAAC,IAAI,CAAC,GAAG,QAAQ,GAAG,CAAC,QAAQ,CAAC,WAAW,CAAC,EAAE;gBACpE,OAAO,KAAK,KAAK;gBACjB,UAAU,KAAK,QAAQ;YAC3B;YACA,aAAa,OAAO,CAAC,SAAS,SAAS,IAAI,CAAC,KAAK;YACjD,aAAa,OAAO,CAAC,YAAY,SAAS,IAAI,CAAC,IAAI;YACnD,gCAAgC;YAChC,OAAO,QAAQ,CAAC,IAAI,GAAG;QAC3B,EAAE,OAAO,OAAO;YACX,IAAI,MAAM,QAAQ,IAAI,MAAM,QAAQ,CAAC,MAAM,KAAK,KAAK;gBAC5D,QAAQ,KAAK,CAAC,sBAAsB,MAAM,QAAQ,CAAC,IAAI,GAAG,cAAc;YAC1E,OACK,IAAI,MAAM,QAAQ,IAAI,MAAM,QAAQ,CAAC,MAAM,KAAK,KAAK;gBACxD,QAAQ,KAAK,CAAC,WAAW,MAAM,QAAQ,CAAC,IAAI,GAAG,cAAc;YAC/D,OAAO;gBACL,QAAQ,KAAK,CAAC,gBAAgB,MAAM,OAAO;YAC7C;QACI;IACJ;IACA,qBACI,qKAAC;;0BACG,qKAAC;0BAAG;;;;;;0BACJ,qKAAC;gBAAK,UAAU,aAAa;;kCACzB,qKAAC;wBAAO,GAAG,SAAS,QAAQ;wBAAE,MAAK;wBAAQ,aAAY;wBAAoB,QAAQ;;;;;;kCACnF,qKAAC;wBAAO,GAAG,SAAS,WAAW;wBAAE,MAAK;wBAAW,aAAY;wBAAc,QAAQ;;;;;;kCACnF,qKAAC;wBAAO,MAAK;kCAAS;;;;;;;;;;;;;;;;;;AAItC;uCACe"}}]
}